#!/usr/bin/env ruby

filename = ARGV[0]
re = ARGV[1]

# TREAT ALL TEXT AFTER FIRST 2 ARGS AS REPLACEMENT
new_text = ARGV.drop(2).join(" ")

puts new_text

pattern = re
puts pattern
%r(#{pattern})
File.open(filename, 'r').each_line do |line|
  found = 'no'
  if line =~ /#{pattern}/
    puts "#{line}"
    puts "Hello, how are you ?"
    found = 'yes'
  end
puts "#{line}" if found == 'no'
end

